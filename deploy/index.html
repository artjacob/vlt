<!DOCTYPE html><html lang="pt-br"><head><meta charset="utf-8"><title>VLT Carioca – Horários</title><meta name="description" content="Horário dos próximos trens do VLT Carioca"><style>@keyframes approaching{0%,20%,80%,to{opacity:1}50%{opacity:0}}@keyframes loading{0%{border-radius:50%;transform:rotate(0)}50%{border-radius:0}to{border-radius:50%;transform:rotate(90deg)}}body{background-color:#003c8f;font:18px cabin,sans-serif;color:#fff;overflow:hidden}body.-mode--list{overflow:auto}a{color:inherit;text-decoration:none;-webkit-tap-highlight-color:transparent}.line-shield{width:22px;height:22px;font-size:14px;position:relative;display:flex;align-items:center;justify-content:center}.line-shield::before{position:absolute;top:-1px;bottom:-1px;left:-1px;right:-1px;border:1.5px solid;border-radius:50%;content:"";opacity:.75}.-theme--dark .panel,.panel{--panel-shadow-umbra-color: rgba(0, 0, 0, 0.2);--panel-shadow-penumbra-color: rgba(0, 0, 0, 0.14);--panel-shadow-ambient-color: rgba(0, 0, 0, 0.12)}.panel{--panel-background-color: #fff;--panel-text-color: #000;--panel-accent-text-color: #525252;--panel-badge-color: #003c8f;--panel-button-color: rgba(0, 60, 143, 0.1);position:fixed;top:56px;bottom:0;left:0;right:0;border-radius:9px 9px 0 0;background-color:var(--panel-background-color);color:var(--panel-text-color);box-shadow:0 -2px 4px -1px var(--panel-shadow-umbra-color),0 -4px 5px 0 var(--panel-shadow-penumbra-color),0 -1px 10px 0 var(--panel-shadow-ambient-color);transition:transform cubic-bezier(.4,0,.2,1) .24s;display:flex;flex-direction:column}.-theme--dark .panel{--panel-background-color: #212121;--panel-text-color: #fff;--panel-accent-text-color: #b1b1b1;--panel-badge-color: #0af;--panel-button-color: rgba(0, 170, 255, 0.1)}.panel .panel-header{height:56px;padding:0 18px;display:flex;align-items:center;justify-content:space-between;flex-grow:0;flex-shrink:0}.panel .panel-header .badge,.panel .panel-header .title{transition:opacity .5s cubic-bezier(.4,0,.2,1)}.panel .closed p{color:var(--panel-accent-text-color);padding:12px 36px 36px;font-size:24px;order:3}.panel .panel-header .title{font-size:18px;color:var(--panel-accent-text-color)}.panel .panel-content{overflow:auto;flex-grow:2}.panel .panel-footer{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0}.panel .panel-footer .status{order:2}.panel .panel-footer .network{order:1}.panel .loading,.panel .offline,.panel .station{display:none}.-mode--list .panel{transform:translateY(calc(100vh - (56px*2)))}.-mode--list .panel .panel-header .title,.navigation .navigation-header:active::before{opacity:1}.-mode--list .panel .panel-header .badge{opacity:0}.panel.-state--closed .closed,.panel.-state--loading .loading,.panel.-state--offline .offline,.panel.-state--permission .permission,.panel.-state--station .station{display:flex}.navigation .navigation-header h1 .placeholder,.panel.-state--closed .panel-footer .status,.panel.-state--closed .panel-header .badge,.panel.-state--closed .panel-header .title,.panel.-state--loading .panel-header .badge,.panel.-state--offline .panel-header .badge,.panel.-state--offline .panel-header .title{display:none}.panel .status-badge{border:1px solid var(--panel-accent-text-color);border-radius:6px;padding:2px 6px;font-size:13px;color:var(--panel-accent-text-color);text-align:center}.panel .status-badge.-state--real-time{border-color:var(--panel-badge-color);color:var(--panel-badge-color);text-transform:uppercase}.panel .closed,.panel .permission{height:100%;display:none;align-items:center;justify-content:center}.panel .permission{width:100%}.panel .permission .button{border:1px solid var(--panel-badge-color);border-radius:6.75px;padding:9px 15px;color:var(--panel-badge-color);display:flex;align-items:center;justify-content:center}.panel .permission .button:hover{background-color:var(--panel-button-color)}.navigation .nearest-station a span,.panel .permission .button span{display:inline-block;padding-left:12px}.panel .closed{text-align:center;flex-direction:column}.panel .closed h1{margin:0;padding:9px 36px 0;font-weight:500;font-size:36px;order:2}.panel .closed i{font-size:48px;order:1}.navigation .navigation-header{position:fixed;top:0;left:0;right:0;height:56px;background-color:#003c8f;z-index:1;cursor:pointer;display:flex;align-items:center;justify-content:space-between;-webkit-tap-highlight-color:transparent}.navigation .navigation-header::before{display:block;position:absolute;top:0;bottom:0;left:0;right:0;background:linear-gradient(to bottom,rgba(0,0,0,.333),transparent);opacity:0;z-index:0;content:""}.navigation .navigation-header::after{display:block;position:absolute;bottom:0;left:6px;right:6px;height:1px;background-color:rgba(255,255,255,.25);opacity:0;transition:opacity cubic-bezier(.4,0,.2,1) .24s;content:""}.navigation .navigation-header h1{padding-left:8px;font-weight:500;font-size:24px;z-index:1;position:relative;flex-grow:1;order:2}.navigation .navigation-header i{width:56px;height:56px;z-index:1;position:relative;display:flex;align-items:center;justify-content:center;transition:opacity cubic-bezier(.4,0,.2,1) .24s}.navigation .navigation-header .navigation-trigger{order:1}.navigation .navigation-header .about-trigger{order:3;opacity:0}.navigation .navigation-content{padding:61.6px 0 84px}.-mode--list .navigation .navigation-header .station-name{display:none}.-mode--list .navigation .navigation-header .placeholder{display:block}.-mode--list .navigation .navigation-header .about-trigger,.-mode--scroll.-mode--list .navigation .navigation-header::after{opacity:1}@font-face{font-family:"Cabin";font-style:normal;font-weight:400;font-display:swap;src:local("Cabin"),local("Cabin-Regular"),url(cabin-400.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:"Cabin";font-style:normal;font-weight:500;font-display:swap;src:local("Cabin Medium"),local("Cabin-Medium"),url(cabin-500.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:"Cabin";font-style:normal;font-weight:700;font-display:swap;src:local("Cabin Bold"),local("Cabin-Bold"),url(cabin-700.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:"Material Icons";font-style:normal;font-weight:400;font-display:swap;src:url(material-icons.woff2) format("woff2")}.material-icons{font-family:"Material Icons";font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}.panel .station{height:100%;flex-direction:column;justify-content:space-between}.panel .station .departures{padding:0 20px 6px;font-size:24px}.panel .station .departures-title{position:absolute;top:0;left:0;right:0;height:56px;padding:0 18px;font-size:18px;color:var(--panel-accent-text-color);cursor:default;display:flex;align-items:center;justify-content:space-between}.panel .station .direction{padding:6px 0 18px}.panel .station .direction-caption{padding-left:44px;padding-bottom:4px;font-size:16px;color:var(--panel-accent-text-color)}.panel .station .train{padding:5px 0;display:flex;align-items:center;justify-content:space-between}.panel .station .train.-state--approaching{animation:approaching cubic-bezier(.4,0,.2,1) 1.5s infinite}.panel .station .train-line{padding-top:4px;padding-right:21px}.panel .station .train-direction{flex-grow:1}.panel .station .train-eta span{display:inline-block;padding-left:3px;font-size:.8em}.panel .station .train:nth-child(2) .train-direction,.panel .station .train:nth-child(2) .train-eta{font-weight:700}.panel .station .suggestion{padding:18px;order:1}.panel .station .suggestion .button{border:1px solid var(--panel-accent-text-color);border-radius:6.75px;padding:9px 15px 9px 12px;color:var(--panel-accent-text-color);display:inline-flex;align-items:center;justify-content:flex-start}.panel .station .suggestion i,.settings a i{padding-right:9px}.panel .station .suggestion strong{display:inline-block;padding-left:5px}.navigation ul{margin:0;padding:0}.navigation li{padding:1px 12px;list-style:none}.navigation a{border-radius:6.75px;padding:9px 12px;display:flex;align-items:center;justify-content:space-between}.navigation a.-state--selected{box-shadow:inset 0 0 2px rgba(255,255,255,.5)}.navigation a:hover{background-color:rgba(255,255,255,.1)}.navigation .station-lines{display:flex}.navigation .station-lines li{width:22px;padding:0 4px}.navigation .nearest-station{padding-bottom:24px}.navigation .nearest-station a{border:1px solid #fff;justify-content:center}.navigation .-state--disabled{opacity:.25}.navigation .-state--disabled .-state--disabled{opacity:1}.panel-footer .network,.panel-footer .status{border-radius:9px 9px 0 0;color:#fff;position:relative;transition:all .5s cubic-bezier(.4,0,.2,1)}.panel-footer .status{background-color:#003c8f}.panel-footer .status.-state--ok{background-color:#315d32}.panel-footer .status.-state--warning{background-color:#941818}.panel-footer .status.-mode--collapsed{height:4px;border-radius:0;order:3}.panel-footer .status .icon{position:absolute;top:12px;left:18px;font-size:32px}.panel-footer .status .text{padding:17px 24px 17px 64px}.panel-footer .status .text strong{font-weight:700}.panel-footer .network{margin-bottom:-10px;padding-bottom:10px;background-color:#422e1f;display:none}.panel-footer .network.-state--offline{display:block}.panel-footer .network .icon{position:absolute;top:12px;left:18px;font-size:32px}.panel-footer .network .text{padding:17px 24px 17px 64px}.loading{height:100%;display:none;align-items:center;justify-content:center}.loading .animation{width:32px;height:32px;background-color:#0af;animation:loading cubic-bezier(.4,0,.2,1) .9s infinite}.settings{padding:24px 12px 0}.settings a{opacity:.75;display:inline-flex;justify-content:flex-start}.settings .theme{border-radius:6.75px;border:1px solid #fff}.settings .theme .current-theme{display:none;content:"auto"}@media (prefers-color-scheme:dark){.panel{--panel-background-color: #212121;--panel-text-color: #fff;--panel-accent-text-color: #b1b1b1;--panel-shadow-umbra-color: rgba(0, 0, 0, 0.2);--panel-shadow-penumbra-color: rgba(0, 0, 0, 0.14);--panel-shadow-ambient-color: rgba(0, 0, 0, 0.12);--panel-badge-color: #0af;--panel-button-color: rgba(0, 170, 255, 0.1)}.settings .theme .current-theme{content:"dark"}}@media (prefers-color-scheme:light){.settings .theme .current-theme{content:"light"}}</style><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="application-name" content="VLT Carioca"><meta name="apple-mobile-web-app-title" content="VLT Carioca"><meta name="theme-color" content="#00285f"><meta name="msapplication-navbutton-color" content="#00285f"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="msapplication-starturl" content="/"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link rel="manifest" href="/manifest.json"><link rel="icon" type="image/png" sizes="512x512" href="/icon.png"><link rel="apple-touch-icon" type="image/png" sizes="512x512" href="/icon.png"><script>var env = "production";</script><script>var endpoints = {"departures":"https://us-central1-vltcarioca.cloudfunctions.net/departures?callback=?","status":"https://us-central1-vltcarioca.cloudfunctions.net/status?callback=?"};</script></head><body><div class="app"><div class="navigation"><div class="navigation-header"><h1><span class="station-name"></span><span class="placeholder"></span></h1><i class="navigation-trigger material-icons">menu</i></div><div class="navigation-content"><ul class="stations"></ul><div class="settings"><a class="theme" href="#theme"><div class="current-theme"></div><i class="material-icons">brightness_auto</i><span></span></a></div></div></div><div class="panel"><div class="panel-header"><div class="title"></div><div class="badge"></div></div><div class="panel-content"><div class="station"></div><div class="closed"></div><div class="permission"><a class="button" href="#"><i class="material-icons">near_me</i><span></span></a></div><div class="loading"><div class="animation"></div></div></div><div class="panel-footer"><div class="network"><div class="icon material-icons"></div><div class="text"></div></div><div class="status -mode--collapsed"><div class="icon material-icons"></div><div class="text"></div></div></div></div></div></body><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js" integrity="sha384-fYxN7HsDOBRo1wT/NSZ0LkoNlcXvpDpFy6WzB42LxuKAX7sBwgo7vuins+E1HCaw" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/locale/pt-br.js" integrity="sha384-rMnAUuld2UG2Cd+wqmGwCPZGHemXzhyJss9LFN3y2b8FNsBOrGEHpbeUFMiP1rx+" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/locale/es.js" integrity="sha384-1qAUeyS6EIOskM+UWGhJh3qUqepgvqXZ12P6NiY/UiUeeaHSLMAKMyRpJ3gd4vTG" crossorigin="anonymous"></script><script>"use strict";var $body,$navigation,$panel,cue=[];cue["load-document"]=$.Deferred(),cue["load-departures"]=$.Deferred(),moment.updateLocale("pt-br",{relativeTime:{past:"%s atrás"}});var default_language="en",available_languages=["pt","en","es"],user_language=navigator.language?navigator.language.substr(0,2):default_language,language=available_languages.includes(user_language)?user_language:default_language;"pt"===language?moment.locale("pt-br"):moment.locale(language);var L10n={pt:{"next-departures":"Próximos trens","real-time":"Tempo real","are-you-at":"Está em",direction:"Sentido",now:"Agora",train:"Trem",line:"Linha",updated:"Atualizado","out-of-operation":"Fora de operação","operation-hours":"O VLT Carioca circula<br> todos os dias das 6h à 0h",stations:"Estações","find-nearest-station":"Localizar estação mais próxima","auto-theme":"Tema automático","light-theme":"Tema claro","dark-theme":"Tema escuro",offline:"Sem conexão","status-ok":"Operação normal"},en:{"next-departures":"Next trains","real-time":"Real time","are-you-at":"Are you at",direction:"Direction",now:"Now",train:"Train",line:"Line",updated:"Updated","out-of-operation":"Service closed","operation-hours":"VLT Carioca runs<br> daily from 6am to 12am",stations:"Stations","find-nearest-station":"Find nearest station","auto-theme":"Auto theme","light-theme":"Light theme","dark-theme":"Dark theme",offline:"Offline","status-ok":"Normal traffic"},es:{"next-departures":"Próximos trenes","real-time":"Tiempo real","are-you-at":"¿Estás en",direction:"Dirección",now:"Ahora",train:"Tren",line:"Línea",updated:"Actualizado","out-of-operation":"Servicio cerrado","operation-hours":"VLT Carioca funciona<br> todos los días de 06:00 a 00:00",stations:"Estaciones","find-nearest-station":"Encontrar la estación más cercana","auto-theme":"Tema automático","light-theme":"Tema claro","dark-theme":"Tema oscuro",offline:"Sin conexión","status-ok":"Circulación normal"}},stations=[{name:"Antonio Carlos",id:"antonio-carlos",coordinates:[-22.91131534439132,-43.17205099759824],lines:[1,3]},{name:"Camerino",id:"camerino",coordinates:[-22.901698046022382,-43.18398361493349],lines:[3]},{name:"Candelária",id:"candelaria",coordinates:[-22.90172502938426,-43.17880866541867],lines:[1,3]},{name:"Carioca",id:"carioca",coordinates:[-22.90748450725281,-43.17664551803892],lines:[1,3]},{name:"Central",id:"central",coordinates:[-22.902704960744952,-43.19262531437734],lines:[2,3]},{name:"Cidade do Samba",id:"cidade-do-samba",coordinates:[-22.894179957128067,-43.196884082078476],lines:[1]},{name:"Cinelândia",id:"cinelandia",coordinates:[-22.910734001842243,-43.17542538736493],lines:[1,3]},{name:"Colombo",id:"colombo",coordinates:[-22.905175219009415,-43.17801696822882],lines:[2]},{name:"Cordeiro da Graça",id:"cordeiro-da-graca",coordinates:[-22.897104629923117,-43.2041784035337],lines:[1,2]},{name:"Cristiano Ottoni",id:"cristiano-ottoni",coordinates:[-22.90306127848065,-43.19074910942149],lines:[2,3]},{name:"Equador",id:"equador",coordinates:[-22.897894564687782,-43.204805014440815],lines:[1,2]},{name:"Gamboa",id:"gamboa",coordinates:[-22.897959408372845,-43.1993366832463],lines:[1,2]},{name:"Harmonia",id:"harmonia",coordinates:[-22.895754437273386,-43.1914276395845],lines:[1]},{name:"Parada dos Museus",id:"parada-dos-museus",coordinates:[-22.895946586802264,-43.18195598058127],lines:[1]},{name:"Parada dos Navios",id:"parada-dos-navios",coordinates:[-22.894139625303875,-43.18718183061744],lines:[1]},{name:"Pereira Reis",id:"pereira-reis",coordinates:[-22.89664706496043,-43.20177311152359],lines:[1,2]},{name:"Praça XV",id:"praca-xv",coordinates:[-22.902070128945848,-43.173117395783876],lines:[2]},{name:"Praia Formosa",id:"praia-formosa",coordinates:[-22.903177152388057,-43.2081619649023],lines:[1,2]},{name:"Providência",id:"providencia",coordinates:[-22.897489922014383,-43.196701400890035],lines:[1]},{name:"Rodoviária",id:"rodoviaria",coordinates:[-22.8988055742518,-43.207342941475986],lines:[1,2]},{name:"Saara",id:"saara",coordinates:[-22.905912108460253,-43.187320782228205],lines:[2]},{name:"Santa Rita",id:"santa-rita",coordinates:[-22.90059416741065,-43.181509049854206],lines:[3]},{name:"Santo Cristo",id:"santo-cristo",coordinates:[-22.895327282002146,-43.20025918175574],lines:[1,2]},{name:"Santos Dumont",id:"santos-dumont",coordinates:[-22.9122868749624,-43.16763225954584],lines:[1,3]},{name:"São Bento",id:"sao-bento",coordinates:[-22.898648096051012,-43.179964311764884],lines:[1]},{name:"Sete de Setembro",id:"sete-de-setembro",coordinates:[-22.905305900977897,-43.17746381634692],lines:[1,3]},{name:"Tiradentes",id:"tiradentes",coordinates:[-22.906578222026116,-43.1828542365578],lines:[2]},{name:"Utopia AquaRio",id:"utopia-aquario",coordinates:[-22.89309547199961,-43.19023690721322],lines:[1]},{name:"Vila Olímpica",id:"vila-olimpica",coordinates:[-22.899056572646533,-43.1996435294953],lines:[2]}],station_index={};stations.forEach(function(e){var a=e.name;station_index[a]=e});var lines=[{id:1,name:"Linha 1",color:"#68b9fb"},{id:2,name:"Linha 2",color:"#73ca3f"},{id:3,name:"Linha 3",color:"#f3a230"}],line_index={};lines.forEach(function(e){var a=e.name;line_index[a]=e});var getLocation=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];navigator.geolocation.getCurrentPosition(function(a){e&&($("body").removeClass("-mode--initial"),$panel.removeClass("-state--permission"));var t=nearestStation([a.coords.latitude,a.coords.longitude]);nextDepartures(t,!0)})},deg2rad=function(e){return e*(Math.PI/180)},nearestStation=function(e){var a=deg2rad(e[0]),t=deg2rad(e[1]),n=null,o=null;return stations.forEach(function(e){if(!e.disabled){var i=deg2rad(e.coordinates[0]),s=(deg2rad(e.coordinates[1])-t)*Math.cos((a+i)/2),r=i-a,d=6371*Math.sqrt(s*s+r*r);(!n||d<n)&&(n=d,o=e)}}),o},nextDepartures=function e(a){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a||($body.addClass("-mode--list"),a=station_index[localStorage.getItem("last-station")||"Central"]),localStorage.setItem("last-station",a.name);var o=["-state--station","-state--loading","-state--closed","-state--permission"];clearInterval(cue["interval-departures"]),clearInterval(cue["interval-last-updated"]),$(window).off("visibilitychange.departures online.departures"),$panel.removeClass(o).addClass("-state--loading"),$navigation.header["station-name"].text(a.name),$panel.header.title.empty(),$navigation.content.stations.find("a").removeClass("-state--selected"),$navigation.content.stations.find("a[data-station='"+a.name+"']").addClass("-state--selected");var i=function(){var e=$("<div />").addClass("status-badge");if(moment().diff(t.lastUpdated,"seconds")<=60)e.addClass("-state--real-time").text(L10n[language]["real-time"]);else{var a=L10n[language].updated+" "+moment(t.lastUpdated).fromNow();e.text(a)}$panel.header.badge.empty().append(e)},s=function(){if(!0===document.hidden||!1===navigator.onLine)return!1;$.getJSON(endpoints.departures,{station:a.id,env:env}).done(function(s){var r=0,d=[],l={};if((t=s).lines.forEach(function(e){e.directions.forEach(function(a){var t=a.name;r+=a.etas.length,a.etas.length>0&&(d.includes(t)||d.push(t),l[t]||(l[t]=[]),a.etas.forEach(function(a){a.line=e.name,l[t].push(a)}))})}),0===r&&"production"===env){var c=moment(),u=moment("06:00","HH:mm"),m=moment("00:00","HH:mm");c.isAfter(m)&&c.isBefore(u)&&($panel.header.title.text(L10n[language]["out-of-operation"]),$panel.content.closed.empty(),$("<h1 />").text(L10n[language]["out-of-operation"]).appendTo($panel.content.closed),$("<p />").html(L10n[language]["operation-hours"]).appendTo($panel.content.closed),$("<i />").addClass("material-icons").text("access_time").appendTo($panel.content.closed),$panel.removeClass(o).addClass("-state--closed"))}else{$panel.header.title.text(L10n[language]["next-departures"]);var p=$("<div />").addClass("departures");if(d.forEach(function(e){var a=$("<div />").addClass("direction").appendTo(p);$("<div />").addClass("direction-caption").text(L10n[language].direction).appendTo(a);var t=l[e];t.sort(function(e,a){return e.seconds-a.seconds}),t.forEach(function(t){var n=$("<div />").addClass("train").appendTo(a),o=$("<div />").addClass("train-line").appendTo(n),i=t.seconds<30,s=line_index[t.line],r=i?L10n[language].now:Math.round(t.seconds/60)+"<span>min</span>",d=moment(t.arrivalTime).format("HH:mm");$("<div />").addClass("line-shield").css("color",s.color).attr("title",L10n[language].line+" "+s.id).attr("disabled",!0).text(s.id).appendTo(o),$("<div />").addClass("train-direction").attr("title",L10n[language].train+" "+t.train).text(e).appendTo(n),$("<div />").addClass("train-eta").attr("title",d).html(r).appendTo(n),i&&n.addClass("-state--approaching")})}),i(),$panel.removeClass(o).addClass("-state--station"),$panel.content.station.empty().append(p),!0===n&&["sete-de-setembro","colombo"].includes(a.id)){var g={"sete-de-setembro":{name:"Colombo",id:"colombo"},colombo:{name:"Sete de Setembro",id:"sete-de-setembro"}}[a.id],f=$("<div />").addClass("suggestion"),v=$("<a />").addClass("button").attr("href","#").appendTo(f);$("<i />").addClass("material-icons").text("near_me").appendTo(v),$("<span />").text(L10n[language]["are-you-at"]).appendTo(v),$("<strong />").text(g.name+"?").appendTo(v),v.on("click",function(a){a.preventDefault(),e(g)}),$panel.content.station.append(f)}}cue["load-departures"].resolve()})};$(window).on("online.departures visibilitychange.departures",function(){!1===document.hidden&&!0===navigator.onLine&&(i(),s())}),cue["interval-departures"]=setInterval(s,15e3),cue["interval-last-updated"]=setInterval(i,5e3),s()},systemStatus=function(){var e;cue["load-document"].done(function(){cue["interval-system-status"]=setInterval(t,6e4),t()});var a=["-state--ok","-state--warning"],t=function(){if(!0===document.hidden||!1===navigator.onLine)return!1;$.getJSON(endpoints.status,{env:env}).done(function(t){cue["load-departures"].done(function(){if($panel.footer.status.removeClass(a),t.status){if("Normal"===t.status){if($panel.footer.status.addClass("-state--ok"),"Normal"!==e){$panel.footer.status.icon.text("check_circle"),$panel.footer.status.text.text(L10n[language]["status-ok"]);var n=$panel.footer.status.text.outerHeight();$panel.footer.status.height(n),$panel.footer.status.removeClass("-mode--collapsed"),setTimeout(function(){$panel.footer.status.css("height","").addClass("-mode--collapsed")},1e4)}}else{$panel.footer.status.addClass("-state--warning"),$panel.footer.status.icon.text("error"),$panel.footer.status.text.html(t.message);var o=$panel.footer.status.text.outerHeight();$panel.footer.status.height(o),$panel.footer.status.removeClass("-mode--collapsed")}e=t.status}})})};$(window).on("visibilitychange.systemStatus",function(){e=null,t()})}(),stationList=function(){$navigation.header["station-name"].text(L10n[language].stations),$navigation.header.placeholder.text(L10n[language].stations);var e=$("<a />").attr("href","#").on("click",function(e){e.preventDefault(),$(".stations h1 .station-name").text(""),$("body").removeClass("-mode--list"),getLocation()}).appendTo($navigation.content.stations);$("<i />").addClass("material-icons").text("near_me").appendTo(e),$("<span />").text(L10n[language]["find-nearest-station"]).appendTo(e),$("<li />").addClass("nearest-station").append(e).appendTo($navigation.content.stations),stations.forEach(function(e){var a=$("<a />").attr("href","#"+e.id).attr("data-station",e.name);$("<div />").addClass("station-name").text(e.name).appendTo(a);var t=$("<ul />").addClass("station-lines").appendTo(a);lines.forEach(function(a){var n=$("<li />").appendTo(t);if(e.lines.includes(a.id)){var o=$("<div />").addClass("line-shield").css("color",a.color).text(a.id).appendTo(n);a.disabled&&o.attr("disabled",!0).addClass("-state--disabled")}}),e.disabled?(a.addClass("-state--disabled"),a.on("click",function(e){e.preventDefault()})):a.on("click",function(a){a.preventDefault(),nextDepartures(e),$body.removeClass("-mode--list")}),$("<li />").append(a).appendTo($navigation.content.stations)}),$navigation.header.on("click",function(){$body.toggleClass("-mode--list")}),$panel.header.on("click",function(){$body.hasClass("-mode--list")&&$body.removeClass("-mode--list")}),$(window).on("scroll",function(e){$(window).scrollTop()>=12?$body.addClass("-mode--scroll"):$body.removeClass("-mode--scroll")})},theme=function(){var e=["auto","light","dark"],a={auto:{title:L10n[language]["auto-theme"],icon:"brightness_auto"},light:{title:L10n[language]["light-theme"],icon:"brightness_5"},dark:{title:L10n[language]["dark-theme"],icon:"brightness_4"}},t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n=e,$(".settings .theme span").text(a[e].title),$(".settings .theme i").text(a[e].icon),$("body").removeClass("-theme--"+t).addClass("-theme--"+e),"auto"===e?localStorage.removeItem("theme"):localStorage.setItem("theme",e)},n=localStorage.getItem("theme")||"auto";n&&t(n),$(function(){n||$(".settings .theme span").text(L10n[language]["auto-theme"]),$(".settings .theme").on("click",function(a){a.preventDefault();var o=e.indexOf(n),i=e[o+1]||e[0];t(i,n)})})}();$(function(){$body=$("body"),($navigation=$(".navigation")).header=$(".navigation-header",$navigation),$navigation.header["station-name"]=$(".station-name",$navigation.header),$navigation.header.placeholder=$(".placeholder",$navigation.header),$navigation.content=$(".navigation-content",$navigation),$navigation.content.stations=$(".stations",$navigation.content),($panel=$(".panel")).header=$(".panel-header",$panel),$panel.header.title=$(".title",$panel.header),$panel.header.badge=$(".badge",$panel.header),$panel.content=$(".panel-content",$panel),$panel.content.station=$(".station",$panel.content),$panel.content.closed=$(".closed",$panel.content),$panel.content.permission=$(".permission",$panel.content),$panel.content.loading=$(".loading",$panel.content),$panel.footer=$(".panel-footer",$panel),$panel.footer.status=$(".status",$panel.footer),$panel.footer.status.icon=$(".icon",$panel.footer.status),$panel.footer.status.text=$(".text",$panel.footer.status),$panel.footer.network=$(".network",$panel.footer),$panel.footer.network.icon=$(".icon",$panel.footer.network),$panel.footer.network.text=$(".text",$panel.footer.network),cue["load-document"].resolve(),stationList(),"geolocation"in navigator?($panel.content.permission.find("span").text(L10n[language]["find-nearest-station"]),"permissions"in navigator?navigator.permissions.query({name:"geolocation"}).then(function(e){"granted"===e.state?getLocation():"denied"===e.state?(nextDepartures(),$navigation.content.stations.find(".nearest-station").hide()):($("body").addClass("-mode--initial"),$panel.addClass("-state--permission"),$(".button",$panel.content.permission).on("click",function(e){e.preventDefault(),getLocation(!0)}))}):getLocation()):(nextDepartures(),$navigation.content.stations.find(".nearest-station").hide())}),"serviceWorker"in navigator&&window.addEventListener("load",function(){cue["service-worker"]=navigator.serviceWorker.register("/service-worker.js"),cue["service-worker"].then(function(e){},function(e){})}),$(function(){$panel.footer.network.icon.text("cloud_off"),$panel.footer.network.text.text(L10n[language].offline)});var updateConnectionStatus=function(){!0===navigator.onLine?$panel.footer.network.removeClass("-state--offline"):$panel.footer.network.addClass("-state--offline")};window.addEventListener("online",updateConnectionStatus),window.addEventListener("offline",updateConnectionStatus);</script></html>